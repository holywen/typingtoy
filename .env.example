# Environment Configuration Example
# Copy this file to .env and fill in your values

# MongoDB Connection
# For local development (no auth): mongodb://localhost:27017/typingtoy
# For Docker (no auth): mongodb://mongodb:27017/typingtoy
# For production with auth: mongodb://username:password@mongodb:27017/typingtoy?authSource=admin
# Note: If you set MONGO_ROOT_USERNAME and MONGO_ROOT_PASSWORD below,
#       you MUST include them in the connection string
MONGODB_URI=mongodb://localhost:27017/typingtoy

# NextAuth Configuration
# Generate a secret: openssl rand -base64 32
# Note: Both variables should have the SAME value
# AUTH_SECRET is the NextAuth v5 standard, NEXTAUTH_SECRET is for v4 compatibility
AUTH_SECRET=your-secret-key-here
NEXTAUTH_SECRET=your-secret-key-here

# App URL
# For local development: http://localhost:3000
# For production: your actual domain (e.g., https://yourdomain.com)
NEXTAUTH_URL=http://localhost:3000
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Trust Host (for production deployments)
# Set to true when deploying behind a proxy or using custom domains
# This tells NextAuth to trust the X-Forwarded-Host header
AUTH_TRUST_HOST=true

# Google OAuth (optional)
# Get credentials from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# Email Configuration (SMTP) - Required for email verification
# Gmail setup:
#   1. Enable 2FA: https://myaccount.google.com/security
#   2. Generate App Password: https://myaccount.google.com/apppasswords
#   3. Use SMTP_SECURE=false with port 587 (STARTTLS)
# Other providers:
#   - SendGrid: smtp.sendgrid.net, port 587, SMTP_SECURE=false
#   - AWS SES: email-smtp.region.amazonaws.com, port 587, SMTP_SECURE=false
#   - Mailgun: smtp.mailgun.org, port 587, SMTP_SECURE=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-gmail-app-password
SMTP_FROM=Typing Toy <typingtoy@444666.best>

# Support Email (publicly visible for contact links)
NEXT_PUBLIC_SUPPORT_EMAIL=typingtoy@444666.best

# Redis (Required for multiplayer features)
# For local development: redis://localhost:6379
# For production: your Redis connection string
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# MongoDB Express (Optional - for development)
# MONGO_EXPRESS_USER=admin
# MONGO_EXPRESS_PASS=changeme

# MongoDB Root Credentials (Required for production with authentication)
# When set, these create a MongoDB admin user and require authenticated connections
# IMPORTANT: If you uncomment these, you MUST update MONGODB_URI above to include credentials
# Example: mongodb://admin:changeme@mongodb:27017/typingtoy?authSource=admin
MONGO_ROOT_USERNAME=admin
MONGO_ROOT_PASSWORD=changeme

# Node Environment
NODE_ENV=development
